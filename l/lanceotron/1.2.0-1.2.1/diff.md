# Comparing `tmp/lanceotron-1.2.0-py3-none-any.whl.zip` & `tmp/lanceotron-1.2.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,17 @@
-Zip file size: 1600921 bytes, number of entries: 15
--rw-r--r--  2.0 unx      147 b- defN 22-Oct-13 15:59 lanceotron/__init__.py
--rw-r--r--  2.0 unx     3757 b- defN 22-Oct-13 15:59 lanceotron/cli.py
--rw-r--r--  2.0 unx    32084 b- defN 22-Oct-13 15:59 lanceotron/lanceotron.py
--rw-r--r--  2.0 unx    15973 b- defN 23-May-10 11:36 lanceotron/modules.py
--rw-r--r--  2.0 unx     4799 b- defN 22-Oct-13 15:59 lanceotron/utils.py
--rw-r--r--  2.0 unx       38 b- defN 22-Oct-13 15:59 lanceotron/static/__init__.py
--rw-r--r--  2.0 unx    48467 b- defN 22-Oct-13 15:59 lanceotron/static/standard_scaler_deep_v5_03.p
--rw-r--r--  2.0 unx      742 b- defN 22-Oct-13 15:59 lanceotron/static/standard_scaler_wide_v5_03.p
--rw-r--r--  2.0 unx  1727328 b- defN 22-Oct-13 15:59 lanceotron/static/wide_and_deep_fully_trained_v5_03.h5
--rw-r--r--  2.0 unx    35149 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     4803 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       50 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       11 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1293 b- defN 23-May-10 11:37 lanceotron-1.2.0.dist-info/RECORD
-15 files, 1874733 bytes uncompressed, 1598769 bytes compressed:  14.7%
+Zip file size: 1600993 bytes, number of entries: 15
+-rw-r--r--  2.0 unx      147 b- defN 23-May-10 15:43 lanceotron/__init__.py
+-rw-r--r--  2.0 unx     3757 b- defN 23-May-10 14:56 lanceotron/cli.py
+-rw-r--r--  2.0 unx    32391 b- defN 23-May-11 08:03 lanceotron/lanceotron.py
+-rw-r--r--  2.0 unx    16066 b- defN 23-May-11 08:03 lanceotron/modules.py
+-rw-r--r--  2.0 unx     4799 b- defN 23-May-10 14:56 lanceotron/utils.py
+-rw-r--r--  2.0 unx       38 b- defN 23-May-10 14:56 lanceotron/static/__init__.py
+-rw-r--r--  2.0 unx    48467 b- defN 23-May-10 14:56 lanceotron/static/standard_scaler_deep_v5_03.p
+-rw-r--r--  2.0 unx      742 b- defN 23-May-10 14:56 lanceotron/static/standard_scaler_wide_v5_03.p
+-rw-r--r--  2.0 unx  1727328 b- defN 23-May-10 14:56 lanceotron/static/wide_and_deep_fully_trained_v5_03.h5
+-rw-r--r--  2.0 unx    35149 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     4803 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       50 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       11 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1293 b- defN 23-May-11 08:07 lanceotron-1.2.1.dist-info/RECORD
+15 files, 1875133 bytes uncompressed, 1598841 bytes compressed:  14.7%
```

## zipnote {}

```diff
@@ -21,26 +21,26 @@
 
 Filename: lanceotron/static/standard_scaler_wide_v5_03.p
 Comment: 
 
 Filename: lanceotron/static/wide_and_deep_fully_trained_v5_03.h5
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/LICENSE
+Filename: lanceotron-1.2.1.dist-info/LICENSE
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/METADATA
+Filename: lanceotron-1.2.1.dist-info/METADATA
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/WHEEL
+Filename: lanceotron-1.2.1.dist-info/WHEEL
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/entry_points.txt
+Filename: lanceotron-1.2.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/top_level.txt
+Filename: lanceotron-1.2.1.dist-info/top_level.txt
 Comment: 
 
-Filename: lanceotron-1.2.0.dist-info/RECORD
+Filename: lanceotron-1.2.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## lanceotron/lanceotron.py

```diff
@@ -633,14 +633,23 @@
         X[i + 2, 0] = np.mean(region_coverage[region_length - 1000 : region_length])
         X[i + 2, 1] = np.std(region_coverage[region_length - 1000 : region_length])
     X = np.reshape(X, (1, -1))
     X = np.append(X, seq_depth)
     return X
 
 
+def find_summits(coverage_array, enriched_region_coord_list):
+    summit_list = []
+    for region in enriched_region_coord_list:
+        region_array = coverage_array[region[0]:region[1]]
+        max_index = np.argmax(region_array)
+        summit_list.append(region[0] + max_index)
+    return summit_list
+
+
 class Bigwig_data:
     import pyBigWig
     import numpy as np
     from scipy.signal import savgol_filter
 
     def __init__(self, bigWig_file):
         self.bigWig_file = bigWig_file
```

## lanceotron/modules.py

```diff
@@ -90,15 +90,15 @@
             standard_scaler_deep = pickle.load(open(deep_path, "rb"))
             X_deep_array_norm = standard_scaler_deep.transform(X_deep_array_norm_T.T)
             X_deep_array_norm = np.expand_dims(X_deep_array_norm, axis=2)
             model = build_model()
             model_classifications = model.predict(
                 [X_deep_array_norm, X_wide_array_norm], verbose=1
             )
-            max_array = np.argmax(X_deep_array, axis=1)
+            max_array = Ltron.find_summits(coverage_array, enriched_region_coord_list)
 
             import tensorflow.keras.backend as K
 
             K.clear_session()
 
             for i, coord_pair in enumerate(enriched_region_coord_list):
                 out_list = [
@@ -242,15 +242,15 @@
             model = build_model()
             model_classifications = model.predict(
                 [X_deep_array_norm, X_wide_array_norm], verbose=1
             )
             pyBigWig_input = pyBigWig.open(control_file)
             read_coverage_total_input = pyBigWig_input.header()["sumData"]
             read_coverage_rphm_input = read_coverage_total_input / read_coverage_factor
-            max_array = np.argmax(X_deep_array, axis=1)
+            max_array = Ltron.find_summits(coverage_array, enriched_region_coord_list)
 
             import tensorflow.keras.backend as K
 
             K.clear_session()
             for i, coord_pair in enumerate(enriched_region_coord_list):
                 average_cov = (
                     coverage_array[coord_pair[0] : coord_pair[1]].mean()
@@ -356,15 +356,15 @@
             standard_scaler_deep = pickle.load(open(deep_path, "rb"))
             X_deep_array_norm = standard_scaler_deep.transform(X_deep_array_norm_T.T)
             X_deep_array_norm = np.expand_dims(X_deep_array_norm, axis=2)
             model = build_model()
             model_classifications = model.predict(
                 [X_deep_array_norm, X_wide_array_norm], verbose=1
             )
-            max_array = np.argmax(X_deep_array, axis=1)
+            max_array = Ltron.find_summits(coverage_array, enriched_region_coord_list)
 
             import tensorflow.keras.backend as K
 
             K.clear_session()
             for i, coord_pair in enumerate(enriched_region_coord_list):
                 out_list = [
                     chrom,
```

## Comparing `lanceotron-1.2.0.dist-info/LICENSE` & `lanceotron-1.2.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `lanceotron-1.2.0.dist-info/METADATA` & `lanceotron-1.2.1.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: lanceotron
-Version: 1.2.0
+Version: 1.2.1
 Summary: Command-line interface to the lanceotron deep learning peak caller
 Author: Chris Cole, Lance Hentges, Simone G. Riva
 Author-email: simo.riva15@gmail.com
 Project-URL: Bug Tracker, https://github.com/LHentges/lanceotron/issues
 Project-URL: Source, https://github.com/LHentges/lanceotron
 Keywords: deep learning,peak calling,keras
 Requires-Python: >3.6
```

